
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../exercises/">
      
      
        <link rel="next" href="../exercise_writing_tests/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.1.6">
    
    
      
        <title>Tests - API Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.ded33207.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#testing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="API Docs" class="md-header__button md-logo" aria-label="API Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            API Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tests
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="API Docs" class="md-nav__button md-logo" aria-label="API Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    API Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../get_started/" class="md-nav__link">
        Getting started
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../advanced/" class="md-nav__link">
        Advanced topics
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/" class="md-nav__link">
        API Reference
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
          Actions
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_2">
          <span class="md-nav__icon md-icon"></span>
          Actions
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/event/" class="md-nav__link">
        Event
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/message/" class="md-nav__link">
        Message
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/navigation/" class="md-nav__link">
        Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/reminder/" class="md-nav__link">
        Reminder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/responder/" class="md-nav__link">
        Responder
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/shopping/" class="md-nav__link">
        Shopping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/actions/weather/" class="md-nav__link">
        Weather
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
          Data Types
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_3">
          <span class="md-nav__icon md-icon"></span>
          Data Types
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/date_time/" class="md-nav__link">
        DateTime
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/event_calendar/" class="md-nav__link">
        EventCalendar
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/event_name/" class="md-nav__link">
        EventName
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/location/" class="md-nav__link">
        Location
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/message_content_type/" class="md-nav__link">
        MessageContentType
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/message_status/" class="md-nav__link">
        MessageStatus
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/nav_road_condition/" class="md-nav__link">
        NavRoadCondition
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/nav_travel_method/" class="md-nav__link">
        NavTravelMethod
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/place_attribute/" class="md-nav__link">
        PlaceAttribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/product/" class="md-nav__link">
        Product
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/resource.md" class="md-nav__link">
        Resource
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/weather_attribute/" class="md-nav__link">
        WeatherAttribute
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reference/types/weather_temperature_unit/" class="md-nav__link">
        WeatherTemperatureUnit
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exercises/" class="md-nav__link">
        Exercises
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tests
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tests
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluating-text-to-code-models" class="md-nav__link">
    Evaluating text to code models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-tests" class="md-nav__link">
    API tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-api-tests" class="md-nav__link">
    Getting started with API tests
  </a>
  
    <nav class="md-nav" aria-label="Getting started with API tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-tests" class="md-nav__link">
    Writing tests
  </a>
  
    <nav class="md-nav" aria-label="Writing tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-command" class="md-nav__link">
    Simple command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#another-simple-command" class="md-nav__link">
    Another simple command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-complex-command" class="md-nav__link">
    Sequence complex command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-complex-command" class="md-nav__link">
    Conditional complex command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-command-with-a-loop" class="md-nav__link">
    Complex command with a loop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../exercise_writing_tests/" class="md-nav__link">
        Excercise writing tests
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#evaluating-text-to-code-models" class="md-nav__link">
    Evaluating text to code models
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api-tests" class="md-nav__link">
    API tests
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#getting-started-with-api-tests" class="md-nav__link">
    Getting started with API tests
  </a>
  
    <nav class="md-nav" aria-label="Getting started with API tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#writing-tests" class="md-nav__link">
    Writing tests
  </a>
  
    <nav class="md-nav" aria-label="Writing tests">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#simple-command" class="md-nav__link">
    Simple command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#another-simple-command" class="md-nav__link">
    Another simple command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sequence-complex-command" class="md-nav__link">
    Sequence complex command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#conditional-complex-command" class="md-nav__link">
    Conditional complex command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-command-with-a-loop" class="md-nav__link">
    Complex command with a loop
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="testing">Testing</h1>
<p>We collected user commands for a virtual assistance (like Siri or Alexa). The virtual assistant offers help in navigation, weather forecasts, messaging, reminders, shopping and more. The goal of this project is to match user commands in English to a valid Python code.</p>
<p>This section will walk you through the process of testing the generated code.</p>
<h2 id="evaluating-text-to-code-models">Evaluating text to code models</h2>
<p>Text to code models are machine learning models that are trained to generate code from natural language descriptions. One way to evaluate a text to code model is by comparing the generated code to a gold standard or reference implementation, also known as denotation, to ensure that the generated code is equivalent in functionality and performance.</p>
<p>Evaluating generated code is an important step in the process of using code generation tools. Generated code should be thoroughly tested and reviewed to ensure that it meets the desired specifications and functions correctly, without errors or bugs. This can be tested through manual testing or by using automated testing tools.</p>
<p>We evluate the quality of the text to code model by testing the generated code using unit tests and integration tests. The tests are used to test the generated code in isolation. We test each generated code snippet in isolation to ensure that it functions correctly in the context of the frameworks API.</p>
<h2 id="api-tests">API tests</h2>
<p>We release a set of API libraries that simulate the functionality of the APIs that are used in the generated code. These libraries are used to test the generated code in isolation. The API libraries and their spec are listed in the <a href="../reference/">API</a> reference page.</p>
<p>The API tests are located in the <a href="https://github.com/asafbiu/thesis-api/tree/main/tests"><code>tests</code> directory</a>.</p>
<h2 id="getting-started-with-api-tests">Getting started with API tests</h2>
<p>Throughout this tutorial we will walk you through the creation of a basic Python code for given virtual agent user commands.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Without the generated code we are nto able to run the tests. Yet, we can still write tham in isolation of the generated code. The tests are dependant from the actual generated code.</p>
</div>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Basic knowledge of Python.</li>
<li>Get yourself farmiliar with the API <a href="../get_started/">Getting started</a> and <a href="../reference/">API</a> reference pages.</li>
</ul>
<p>That's it. We are ready to start writing tests.</p>
<h3 id="writing-tests">Writing tests</h3>
<p>Let's learn by example.</p>
<h4 id="simple-command">Simple command</h4>
<p>Simple commands express a single action that the virtual assistant is expected to perform.</p>
<mark class="critic block">
<p>Text Karen that I will be late.</p>
</mark>
<p>This command should return an object of <a href="../reference/actions/message/#messagesend_message">text message</a>. The generated code for this example can be found in the <a href="../get_started/">Getting started</a> page.</p>
<p>Every test should start by seeding the data. In this case we need to seed the data with the <code>recipient</code> and <code>content</code> attributes. We expect the generated code to create a <code>MessageEntity</code> object with the <code>recipient</code> and <code>message</code> attributes.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">Contact</span><span class="p">,</span> <span class="n">Content</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="kn">from</span> <span class="nn">entities.message</span> <span class="kn">import</span> <span class="n">MessageEntity</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="n">data_recipient</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Karen&quot;</span><span class="p">)</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_recipient</span><span class="p">)</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="n">data_content</span> <span class="o">=</span> <span class="n">Content</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;I will be late&quot;</span><span class="p">)</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_content</span><span class="p">)</span>
</code></pre></div>
<p>We start by importing the necessary classes. Don't bother yourself too much with it. These are just the classes that will be used to seed the data and the test itself so you can always go back and add them as you write the test.</p>
<p>Next we are creating a <code>DataModel</code> object and setting the <code>reset</code> attribute to <code>True</code>. This will reset the data model and remove all the data that was seeded before.</p>
<p>We then create a <code>Contact</code> object and set the <code>text</code> attribute to the contact name. We repeat the same process for the <code>Content</code> object with the expected message content.</p>
<p>We can now write the test.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">data_messages</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">MessageEntity</span><span class="p">)</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_messages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="n">data_message</span> <span class="o">=</span> <span class="n">data_messages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recipient&quot;</span><span class="p">),</span> <span class="n">data_recipient</span><span class="p">)</span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">),</span> <span class="n">data_content</span><span class="p">)</span>
</code></pre></div>
<p>We start by getting the data from the data model. We use the <code>get_data</code> method to get the data with the <code>MessageEntity</code> type. We then assert that the data list has only one element. We expect our generated code to create only one <code>MessageEntity</code> object.</p>
<p>We then get the first element from the data list and assert that the <code>recipient</code> attribute is set to the <code>Contact</code> object that we seeded before. We also assert that the <code>message</code> attribute is set to the <code>Content</code> object that we seeded before. To assert that the attributes are set to the correct objects we use the <code>test_equal</code> function. This function is used to compare two objects.</p>
<p>That's it. We have written our first test.</p>
<h4 id="another-simple-command">Another simple command</h4>
<p>Let's look at another simple command.</p>
<mark class="critic block">
<p>Get directions from Disneyland to my house.</p>
</mark>
<p>This command should return a list of <a href="../reference/actions/navigation/#navigationfind_directions">navigation directions</a>. The generated code for this example can be found in the <a href="../get_started/">Getting started</a> page.</p>
<p>We remind you that every test should start by seeding the data. In this case we need to seed the data with the <code>origin</code> and <code>destination</code> locations. We can do this by creating a <code>Location</code> object and setting the <code>text</code> attribute to the location name.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">Location</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="kn">from</span> <span class="nn">entities.navigation</span> <span class="kn">import</span> <span class="n">NavigationDirectionEntity</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="n">data_origin</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Disneyland&quot;</span><span class="p">)</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="n">data_destination</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;my house&quot;</span><span class="p">)</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    <span class="n">NavigationDirectionEntity</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">data_origin</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>    <span class="n">NavigationDirectionEntity</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">data_origin</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="p">)</span>
</code></pre></div>
<p>We start with creating a <code>DataModel</code> object and setting the <code>reset</code> attribute to <code>True</code>.</p>
<p>We then create two <code>Location</code> objects and set the <code>text</code> attribute to the location name. We then append the objects to the data model.
In this case we see the data with the origin <code>Location</code> object that will be set to <code>Disneyland</code>, and the data with the destination <code>Location</code> is set to <code>my house</code>.</p>
<p>Next we append two <code>NavigationDirectionEntity</code> object to the data model. We choose 2 as an arbitrary number, like there can be 2 possible directions to get from the origin to the destination. These objects will be used to test the generated code.</p>
<p>We can now write the test.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">data_navigation_directions_list</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">NavigationDirectionEntity</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_navigation_directions_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="n">data_navigation_directions</span> <span class="o">=</span> <span class="n">data_navigation_directions_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">),</span> <span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination&quot;</span><span class="p">),</span> <span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">),</span> <span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination&quot;</span><span class="p">),</span> <span class="n">data_destination</span><span class="p">)</span>
</code></pre></div>
<p>We start by getting the data from the data model. We get the data with the <code>NavigationDirectionEntity</code> object. We then assert that the length of the data is equal to 1. This means that we have one list of <code>NavigationDirectionEntity</code> objects in the data model, and that our generated code is matching the text description and created only a single <code>NavigationDirectionEntity</code> list of objects.</p>
<p>We then get the first <code>NavigationDirectionEntity</code> element from the data model. In the case of navigation direction, this is expected to be a list of <code>NavigationDirectionEntity</code> objects. We assert that this list length is equal to 2. This means that we have two <code>NavigationDirectionEntity</code> objects in the list.</p>
<p>We then assert that the <code>origin</code> attribute of each of the <code>NavigationDirectionEntity</code> objects is equal to the <code>data_origin</code> object. We also assert that the <code>destination</code> attribute of each of the <code>NavigationDirectionEntity</code> object is equal to the <code>data_destination</code> object.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>NavigationDirectionEntity</code> object is an object that we created to seed the test data for the generated code. It is <strong>not</strong> what is returned in <code>data_model.get_data(NavigationDirectionEntity)</code>. The objects that are returned are expected to be created in the generated code.</p>
</div>
<p>Voila! We have written our second test.</p>
<h4 id="sequence-complex-command">Sequence complex command</h4>
<p>Complex commands allow you to combine multiple simple commands into a single request for your virtual assistant. These commands can be performed in a specific sequence, include conditional statements, or be executed multiple times.</p>
<p>Now let's look at a complex command where commands are executed in a sequence.</p>
<mark class="critic block">
<p>Get directions from Disneyland to my house and text Karen that I will be late.</p>
</mark>
<p>This command should return a list of <a href="../reference/actions/navigation/#navigationfind_directions">navigation directions</a> <strong>and</strong> a <a href="../reference/actions/message/#messagesend_message">text message</a>. The generated code for this example can be found in the <a href="../get_started/">Getting started</a> page.</p>
<p>We remind you that every test should start by seeding the data. In this case we need to seed the data with the <code>origin</code> and <code>destination</code> locations. We also need to seed the data with the <code>Contact</code> and <code>Content</code> objects.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">Contact</span><span class="p">,</span> <span class="n">Content</span><span class="p">,</span> <span class="n">Location</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="kn">from</span> <span class="nn">entities.navigation</span> <span class="kn">import</span> <span class="n">NavigationDirectionEntity</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="c1"># seed data for the 1st command</span>
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="n">data_origin</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Disneyland&quot;</span><span class="p">)</span>
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="n">data_destination</span> <span class="o">=</span> <span class="n">Location</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;my house&quot;</span><span class="p">)</span>
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    <span class="n">NavigationDirectionEntity</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">data_origin</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="p">)</span>
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    <span class="n">NavigationDirectionEntity</span><span class="p">(</span><span class="n">origin</span><span class="o">=</span><span class="n">data_origin</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="p">)</span>
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="c1"># seed data for the 2nd command</span>
<a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="n">data_recipient</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;Karen&quot;</span><span class="p">)</span>
<a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_recipient</span><span class="p">)</span>
<a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="n">data_content</span> <span class="o">=</span> <span class="n">Content</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;I will be late&quot;</span><span class="p">)</span>
<a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_content</span><span class="p">)</span>
</code></pre></div>
<p>Like before, we start with creating a <code>DataModel</code> object and setting the <code>reset</code> attribute to <code>True</code>.</p>
<p>We start by seeding the data for the first command. We create a <code>Location</code> origin object and set the <code>text</code> attribute to the location name. We then append the object to the data model. We do the same for the destination location. We also append two <code>NavigationDirectionEntity</code> object to the data model. We choose 2 as an arbitrary number, like there can be 2 possible directions to get from the origin to the destination. These objects will be used to test the generated code.</p>
<p>We then seed the data for the second command. We can do this by creating a <code>Contact</code> object and setting the <code>text</code> attribute to the contact name. We repeat the same process for the <code>Content</code> object with the expected message content. We then append the objects to the data model.</p>
<p>We can now write our complex command test.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">data_navigation_directions_list</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">NavigationDirectionEntity</span><span class="p">)</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_navigation_directions_list</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">data_navigation_directions</span> <span class="o">=</span> <span class="n">data_navigation_directions_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">),</span> <span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination&quot;</span><span class="p">),</span> <span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;origin&quot;</span><span class="p">),</span> <span class="n">data_origin</span><span class="p">)</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_navigation_directions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;destination&quot;</span><span class="p">),</span> <span class="n">data_destination</span><span class="p">)</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">data_messages</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">MessageEntity</span><span class="p">)</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_messages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">data_message</span> <span class="o">=</span> <span class="n">data_messages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;recipient&quot;</span><span class="p">),</span> <span class="n">data_recipient</span><span class="p">)</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">),</span> <span class="n">data_content</span><span class="p">)</span>
</code></pre></div>
<p>We test the expected generated objects for the first command. We then test the expected generated objects for the second command. Nothing new here.</p>
<p>Congratulations! You have now written your first test for a complex command.</p>
<h4 id="conditional-complex-command">Conditional complex command</h4>
<p>Conditional complex commands allow you to condition the execution of one command by checking the result of another command. This is useful when you want to execute a command only if a previous command was successful (or not).</p>
<p>Now let's look at a conditional complex command.</p>
<mark class="critic block">
<p>Remind me to bring an umbrella if it rains tomorrow.</p>
</mark>
<p>Conditional complex commands are a bit more complex to test. We need to test two scenarios: the condition is met and the condition is not met. We will start by testing the scenario where the condition is met.</p>
<p>This command should return a <a href="../reference/actions/reminder/#remindercreate_reminder">reminder</a> <strong>only if</strong> the <a href="../reference/actions/weather/#weatherget_weather">weather</a> is rainy. The generated code for this example can be found in the <a href="../get_started/">Getting started</a> page.</p>
<p>Like before, we start by seeding the data. In this case we need to seed the data with the <code>Content</code> of the reminder, the <code>Contact</code> or the person being reminded, the <code>WeatherAttribute</code> and the <code>DateTime</code> objects for the weather forecasts.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">Contact</span><span class="p">,</span> <span class="n">Content</span><span class="p">,</span> <span class="n">DateTime</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="kn">from</span> <span class="nn">entities.reminder</span> <span class="kn">import</span> <span class="n">ReminderEntity</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="kn">from</span> <span class="nn">entities.weather</span> <span class="kn">import</span> <span class="n">WeatherAttribute</span><span class="p">,</span> <span class="n">WeatherForecastEntity</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="c1"># seed data for the 1st command</span>
<a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="n">data_person_reminded</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;me&quot;</span><span class="p">)</span>
<a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_person_reminded</span><span class="p">)</span>
<a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="n">data_content</span> <span class="o">=</span> <span class="n">Content</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;bring an umbrella&quot;</span><span class="p">)</span>
<a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_content</span><span class="p">)</span>
<a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="c1"># seed data for the condition command</span>
<a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="n">data_weather_attribute</span> <span class="o">=</span> <span class="n">WeatherAttribute</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;rains&quot;</span><span class="p">)</span>
<a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_weather_attribute</span><span class="p">)</span>
<a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="n">data_date_time_tomorrow</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;tomorrow&quot;</span><span class="p">)</span>
<a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_date_time_tomorrow</span><span class="p">)</span>
<a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>    <span class="n">WeatherForecastEntity</span><span class="p">(</span>
<a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>        <span class="n">attribute</span><span class="o">=</span><span class="n">data_weather_attribute</span><span class="p">,</span>
<a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>        <span class="n">date_time</span><span class="o">=</span><span class="n">data_date_time_tomorrow</span>
<a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>    <span class="p">)</span>
<a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="p">)</span>
</code></pre></div>
<p>We start by importing the necessary classes. Don't bother yourself too much with it. These are just the classes that will be used to seed the data and the test itself so you can always go back and add them as you write the test.</p>
<p>Next we are creating a <code>DataModel</code> object and setting the <code>reset</code> attribute to <code>True</code>.</p>
<p>We then seed the data for the first command. We create a <code>Contact</code> object and set the <code>text</code> attribute to the contact name. We then append the object to the data model. We do the same for the reminder content. We then seed the data for the condition command. We create a <code>WeatherAttribute</code> object and set the <code>text</code> attribute to the weather attribute. We then append the object to the data model. We do the same for the <code>DateTime</code> object with the date and time. We then append a <code>WeatherEntity</code> object to the data model. This object will be used to test the generated code.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>WeatherEntity</code> object is a special case. It is not an entity that should be created like <code>MessageEntity</code> or <code>ReminderEndity</code>. It is something the generated code expects to fetch so we create it for that.</p>
</div>
<p>We can now write our conditional complex command test.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">data_messages</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">ReminderEntity</span><span class="p">)</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_messages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">data_message</span> <span class="o">=</span> <span class="n">data_messages</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;person_reminded&quot;</span><span class="p">),</span> <span class="n">data_person_reminded</span><span class="p">)</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="k">assert</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_message</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">),</span> <span class="n">data_content</span><span class="p">)</span>
</code></pre></div>
<p>With conditional complex commands, we only test the expected generated object. This is because the generated code will not generate any objects when the condition is not met. We don't test the expected generated objects for the condition.</p>
<p>We now need to test the scenario where the condition is not met. We will do this by changing the weather attribute to something that is not rainy (any text value other than <code>rains</code> will do).</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">Contact</span><span class="p">,</span> <span class="n">Content</span><span class="p">,</span> <span class="n">DateTime</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kn">from</span> <span class="nn">entities.reminder</span> <span class="kn">import</span> <span class="n">ReminderEntity</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="kn">from</span> <span class="nn">entities.weather</span> <span class="kn">import</span> <span class="n">WeatherAttribute</span><span class="p">,</span> <span class="n">WeatherForecastEntity</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="c1"># seed data for the 1st command</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="n">data_person_reminded</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;me&quot;</span><span class="p">)</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_person_reminded</span><span class="p">)</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="n">data_content</span> <span class="o">=</span> <span class="n">Content</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;bring an umbrella&quot;</span><span class="p">)</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_content</span><span class="p">)</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c1"># seed data for the condition command</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="n">data_weather_attribute</span> <span class="o">=</span> <span class="n">WeatherAttribute</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;sunny&quot;</span><span class="p">)</span> <span class="c1"># here we change the weather attribute to sunny instead of rains</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_weather_attribute</span><span class="p">)</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="n">data_date_time_tomorrow</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;tomorrow&quot;</span><span class="p">)</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_date_time_tomorrow</span><span class="p">)</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a>    <span class="n">WeatherForecastEntity</span><span class="p">(</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a>        <span class="n">attribute</span><span class="o">=</span><span class="n">data_weather_attribute</span><span class="p">,</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>        <span class="n">date_time</span><span class="o">=</span><span class="n">data_date_time_tomorrow</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a>    <span class="p">)</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="p">)</span>
</code></pre></div>
<p>Now that the weather attribute is not rainy, we should not get a reminder. We can test this by checking that no <code>ReminderEntity</code> objects were generated.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">data_messages</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">ReminderEntity</span><span class="p">)</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_messages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div>
<p>We test that no <code>ReminderEntity</code> objects were generated. This is because the generated code will not generate any objects when the condition is not met.</p>
<p>Congratulations! You have now written the test for a conditional complex command.</p>
<h4 id="complex-command-with-a-loop">Complex command with a loop</h4>
<p>Complex commands with a loop allow you to execute a command multiple times. This is useful when you want to execute a command multiple times with different data. The text description of the commands expresses the multiple executions of the command.</p>
<p>Now let's look at a complex command with a loop.</p>
<mark class="critic block">
<p>Remind me to walk the dog every day this week.</p>
</mark>
<p>Seeding the data for a complex command with a loop is a bit more complex than for a simple command. We need to seed the data for the what we will be looping on. In this case, we will be looping on the <code>DateTime</code> objects for the days of the week.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kn">from</span> <span class="nn">providers.data_model</span> <span class="kn">import</span> <span class="n">DataModel</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="kn">from</span> <span class="nn">entities.generic</span> <span class="kn">import</span> <span class="n">DateTime</span><span class="p">,</span> <span class="n">Contact</span><span class="p">,</span> <span class="n">Content</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="kn">from</span> <span class="nn">entities.reminder</span> <span class="kn">import</span> <span class="n">ReminderEntity</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="n">data_model</span> <span class="o">=</span> <span class="n">DataModel</span><span class="p">(</span><span class="n">reset</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="n">data_person_reminded</span> <span class="o">=</span> <span class="n">Contact</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;me&quot;</span><span class="p">)</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_person_reminded</span><span class="p">)</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="n">data_content</span> <span class="o">=</span> <span class="n">Content</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;walk the dog&quot;</span><span class="p">)</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_content</span><span class="p">)</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="c1"># seed data for the looping predicate</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="n">data_date_times</span> <span class="o">=</span> <span class="p">[]</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">7</span><span class="p">):</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a>    <span class="n">data_date_time</span> <span class="o">=</span> <span class="n">DateTime</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;every day this week&quot;</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">26</span><span class="p">)</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">i</span><span class="p">))</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a>    <span class="n">data_model</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_date_time</span><span class="p">)</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a>    <span class="n">data_date_times</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">data_date_time</span><span class="p">)</span>
</code></pre></div>
<p>Like always, we start by creating a <code>DataModel</code> object and setting the <code>reset</code> attribute to <code>True</code>.</p>
<p>We then seed the data for the <code>Contact</code> object for the person to be reminded. We create a <code>Contact</code> object and set the <code>text</code> attribute to the text description of the contact. We then seed the data for the <code>Content</code> object for the content of the reminder. We create a <code>Content</code> object and set the <code>text</code> attribute to the text description of the content. We then append the objects to the data model.</p>
<p>We then seed the data for the <code>DateTime</code> objects for the days of the week. In this case we arbitrarily assume <code>every day this week</code> will be the 7 days of the week (you can freely set a different amount of consecutive days). We create a <code>DateTime</code> object and set the <code>text</code> attribute to the text description of the date and time. We then set the <code>value</code> attribute to the actual date and time. We then append the object to the data model. We do the same for the other days of the week.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In cases we have multiple objects with the same <code>text</code> attribute, we need to set the <code>value</code> attribute to a different value for each object. This is because the <code>text</code> attribute is used to identify the object. If we have multiple objects with the same <code>text</code> attribute, the generated code will not be able to identify the object.
The <code>text</code> attribute of the <code>DateTime</code> objects is the same. This is because the text description of the command is the same for all the days of the week. The <code>value</code> attribute is different for each day of the week. This is because the actual date and time is different for each day of the week.</p>
</div>
<p>Testing the complex command with a loop is similar to testing a simple command. We test the expected generated objects.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="n">data_reminders</span> <span class="o">=</span> <span class="n">data_model</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">ReminderEntity</span><span class="p">)</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_reminders</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_date_times</span><span class="p">)</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="k">for</span> <span class="n">data_date_time_day</span> <span class="ow">in</span> <span class="n">data_date_times</span><span class="p">:</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a>    <span class="k">assert</span> <span class="nb">filter</span><span class="p">(</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a>        <span class="k">lambda</span> <span class="n">data_reminder</span><span class="p">:</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_reminder</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;person_reminded&quot;</span><span class="p">),</span> <span class="n">data_person_reminded</span><span class="p">)</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a>            <span class="ow">and</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_reminder</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content&quot;</span><span class="p">),</span> <span class="n">data_content</span><span class="p">)</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a>            <span class="ow">and</span> <span class="n">test_equal</span><span class="p">(</span><span class="n">data_reminder</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;date_time&quot;</span><span class="p">),</span> <span class="n">data_date_time_day</span><span class="p">),</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a>        <span class="n">data_reminders</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a>    <span class="p">)</span>
</code></pre></div>
<p>We want to check that a reminder was created for each day, the order does not matter. In the spirit, we get the <code>ReminderEntity</code> objects from the data model. We then test that the number of <code>ReminderEntity</code> objects is equal to the number of days we seeded in the test data. We then create a list of the <code>DateTime</code> objects for the days of the week. We then loop through the list of <code>DateTime</code> objects. For each <code>DateTime</code> object, we test that there is a <code>ReminderEntity</code> object with the same <code>person_reminded</code>, <code>content</code>, and <code>date_time</code> attributes.</p>
<p>You are now ready to write the test for a complex command with a loop.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.annotate"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.51198bba.min.js"></script>
      
    
  </body>
</html>